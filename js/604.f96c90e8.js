(self["webpackChunkvisual_computing_workshop"]=self["webpackChunkvisual_computing_workshop"]||[]).push([[604],{921:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return h}});var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"mt-4"},[r("b-row",{attrs:{"align-content":"center","align-h":"center","align-v":"center"}},[r("h1",{staticClass:"mt-4"},[t._v("Diffuse Reflection")])]),r("b-row",[r("h2",{staticClass:"mt-4"},[t._v("Introduction")])]),r("b-row",{attrs:{"align-h":"left","align-v":"left"}},[r("p",{staticClass:"text-justify"},[t._v("Diffuse reflection is the reflection of light or other waves or particles from a surface such that a ray incident on the surface is scattered at many angles rather than at just one angle as in the case of specular reflection. An ideal diffuse reflecting surface is said to exhibit Lambertian reflection, meaning that there is equal luminance when viewed from all directions lying in the half-space adjacent to the surface. ")])]),r("b-row",{attrs:{"align-content":"center","align-h":"center","align-v":"center"}},[r("b-col",[r("b-img",{staticClass:"mt-4",attrs:{thumbnail:"",src:"https://upload.wikimedia.org/wikipedia/commons/b/bd/Lambert2.gif"}})],1),r("b-col",[r("b-img",{staticClass:"mt-4",attrs:{thumbnail:"",src:"https://media.istockphoto.com/photos/moon-in-black-and-white-picture-id1136640083?k=20&m=1136640083&s=612x612&w=0&h=uKRjHmTcoAHed696QIad3qsf2x5zIX-6G931pZ8cTJA="}})],1)],1),r("b-row",[r("h2",{staticClass:"mt-4"},[t._v("Literature review")])]),r("b-row",[r("p",[t._v("The moon exhibits almost exclusively diffuse reflection (also called Lambertian reflection), i.e. light is reflected into all directions without specular highlights. Other examples of such materials are chalk and matte paper; in fact, any surface that appears dull and matte. ")])]),r("b-row",[r("p",[t._v("In the case of perfect diffuse reflection, the intensity of the observed reflected light depends on the cosine of the angle between the surface normal vector and the ray of the incoming light. As illustrated in the figure, it is common to consider normalized vectors starting in the point of a surface, where the lighting should be computed: the normalized surface normal vector "),r("strong",[t._v("N")]),t._v(" is orthogonal to the surface and the normalized light direction "),r("strong",[t._v("L")]),t._v(" points to the light source. ")])]),r("b-row",{attrs:{"align-content":"center","align-h":"center","align-v":"center"}},[r("b-col",{staticClass:"text-center",attrs:{"align-self":"center"}},[r("b-img",{staticClass:"mt-4",staticStyle:{height:"300px"},attrs:{thumbnail:"",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Diffuse_Reflection_Vectors.svg/1920px-Diffuse_Reflection_Vectors.svg.png"}})],1)],1),r("b-row",{staticClass:"mt-4"},[r("p",[t._v("For the observed diffuse reflected light "),r("vue-mathjax",{attrs:{formula:"$I_{diffuse}$"}}),t._v(", we need the cosine of the angle between the normalized surface normal vector N and the normalized direction to the light source "),r("vue-mathjax",{attrs:{formula:"$L$"}}),t._v(", which is the dot product "),r("vue-mathjax",{attrs:{formula:"$N \\cdot L$"}})],1)]),r("b-row",{staticClass:"mt-4"},[r("b-col",[r("vue-mathjax",{staticClass:"mt-4 big",attrs:{formula:"$$N \\cdot L = |N| |L| \\cos{\\measuredangle N, L}$$"}})],1)],1),r("b-row",{staticClass:"mt-4"},[r("p",[t._v("If the dot product "),r("vue-mathjax",{attrs:{formula:"$N \\cdot L$"}}),t._v(" is negative, the light source is on the “wrong” side of the surface and we should set the reflection to 0. This can be achieved by using "),r("vue-mathjax",{attrs:{formula:"$max(0, N \\cdot L)$"}}),t._v(", which makes sure that the value of the dot product is clamped to 0 for negative dot products. Furthermore, the reflected light depends on the intensity of the incoming light "),r("vue-mathjax",{attrs:{formula:"$I_{incomming}$"}}),t._v(" and a material constant "),r("vue-mathjax",{attrs:{formula:"$k_{diffuse}$"}}),t._v(" for the diffuse reflection: for a black surface, the material constant "),r("vue-mathjax",{attrs:{formula:"$k_{diffuse}$"}}),t._v(" is 0, for a white surface it is 1. The equation for the diffuse reflected intensity is then: ")],1)]),r("b-row",{staticClass:"mt-4"},[r("b-col",[r("vue-mathjax",{staticClass:"mt-4 big",attrs:{formula:"$$I_{diffuse} = I_{incomming} k_{diffuse} max(0, N \\cdot L)$$"}})],1)],1),r("b-row",[r("h2",{staticClass:"mt-4"},[t._v("Methods")])]),r("b-row",{staticClass:"mt-4"},[r("p",[t._v("Now let's see a procedure to realize this Diffuse Reflection, this procedure may be performed for every pixel in figure")]),r("p",[r("ol",[r("li",[t._v(" Get the vector "),r("vue-mathjax",{attrs:{formula:"$N$"}}),t._v(" as the normal vector of this point to the surface. ")],1),r("li",[t._v(" Get the vector "),r("vue-mathjax",{attrs:{formula:"$L$"}}),t._v(" as the vector from the point to the light. ")],1),r("li",[t._v(" Normalize the vectors as "),r("vue-mathjax",{attrs:{formula:"$|N|$"}}),t._v(" and "),r("vue-mathjax",{attrs:{formula:"$|L|$"}}),t._v(". ")],1),r("li",[t._v(" Normalize the vectors as "),r("vue-mathjax",{attrs:{formula:"$|N|$"}}),t._v(" and "),r("vue-mathjax",{attrs:{formula:"$|L|$"}}),t._v(". ")],1),r("li",[t._v(" Calculate the resulting color of multiply the light color "),r("vue-mathjax",{attrs:{formula:"$C_{light}$"}}),t._v(" and the color of the point "),r("vue-mathjax",{attrs:{formula:"$C$"}}),t._v(". ")],1),r("li",[t._v(" Multiply the previus result "),r("vue-mathjax",{attrs:{formula:"$C_{light}C$"}}),t._v(" by the maximun between 0 and "),r("vue-mathjax",{attrs:{formula:"$N \\cdot L$"}}),t._v(". ")],1),r("li",[t._v(" The resulting color is the color of the point. ")])])])]),r("b-row",{staticClass:"mt-4"},[r("p",[t._v("Let's see an implementation of this shader using and extention of GLSL on HLSL in unity")])]),r("b-row",[r("h2",{staticClass:"mt-4"},[t._v("Code and Results")])]),r("b-row",{attrs:{"align-content":"center","align-h":"center","align-v":"center"}},[r("SketchUnity",{attrs:{dataPath:"scketch/Light/Build/Unity.data",loaderPath:"scketch/Light/Build/Unity.loader.js",frameworkPath:"scketch/Light/Build/Unity.framework.js",codePath:"scketch/Light/Build/Unity.wasm",streamingAssetsPath:"scketch/Light/StreamingAssets",companyName:"Visual Computing",productName:"Diffuse Reflection",productVersion:"1.0",width:"960",height:"600"}})],1),r("b-row",{staticClass:"mt-4",attrs:{"align-h":"start","align-v":"start"}},[r("h3",[t._v("Source Code Unity")])]),r("div",[r("code-highlight",{attrs:{language:"glsl"}},[r("pre",[t._v('Shader "Unity Shader" {\n    Properties{\n        _Flag("Flag", Float) = 0\n    }\n    SubShader {\n        Pass {\n            Tags { "LightMode" = "ForwardBase" }\n\n            GLSLPROGRAM\n\n            uniform float _Flag;\n            uniform mat4 _Object2World;\n            uniform mat4 _World2Object;\n            uniform vec4 _WorldSpaceLightPos0;\n            uniform vec4 _LightColor0;\n\n            #ifdef VERTEX\n\n            varying vec4 color;\n\n            void main() {\n                mat4 modelMatrix = _Object2World;\n                mat4 modelMatrixInverse = _World2Object;\n                vec3 normalDirection = normalize(vec3(vec4(gl_Normal, 0.0) * modelMatrixInverse));\n                vec3 lightDirection = normalize(vec3(_WorldSpaceLightPos0));\n                vec3 diffuseReflection = \n                    vec3(_LightColor0) * \n                    (_Flag == 1.0 ? (vec3(gl_Vertex) + vec3(0.5, 0.5, 0.5)) : vec3(0.5, 0.5, 0.5)) * \n                    max(0.0, dot(normalDirection, lightDirection));\n\n                color = vec4(diffuseReflection, 1.0);\n                gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex;\n            }\n            #endif\n\n            #ifdef FRAGMENT\n\n            varying vec4 color;\n\n            void main()  {\n                gl_FragColor = color;\n            }\n            #endif\n\n            ENDGLSL\n        }\n    }\n}\n                ')])])],1),r("b-row",[r("h2",[t._v("Discussion")])]),r("b-row",[r("p",[t._v("Diffuse reflection is only one of many illumination models that we can find, there are cases where you have non-flat surfaces, with different materials and opacities, and you can even have several lights. What we have seen in this web page is just a small glimpse of how sophisticated and complex lighting models can be.")])]),r("b-row",[r("h2",[t._v("Conclusion")])]),r("b-row",[r("p",[t._v("Working with lights in computer graphics requires great knowledge of how these waves behave, it is important to abstract the behavior of things to computation and in the case of lights it is something that can be easily worked with using shaders. ")])])],1)},i=[],n=r(6596),o=r(4148),s=(r(7704),r(2586),r(2977)),l={name:"VisualIllusion",components:{CodeHighlight:o.Z,"vue-mathjax":s.VueMathjax,SketchUnity:n.Z},data(){return{}},created(){}},c=l,u=r(1001),f=(0,u.Z)(c,a,i,!1,null,"2899c0a9",null),h=f.exports},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,r){"use strict";var a,i,n,o=r(4019),s=r(9781),l=r(7854),c=r(614),u=r(111),f=r(2597),h=r(648),m=r(6330),d=r(8880),p=r(1320),g=r(3070).f,v=r(7976),y=r(9518),_=r(7674),b=r(5112),w=r(9711),x=l.Int8Array,A=x&&x.prototype,k=l.Uint8ClampedArray,C=k&&k.prototype,$=x&&y(x),j=A&&y(A),R=Object.prototype,T=l.TypeError,L=b("toStringTag"),S=w("TYPED_ARRAY_TAG"),D=w("TYPED_ARRAY_CONSTRUCTOR"),P=o&&!!_&&"Opera"!==h(l.opera),N=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O={BigInt64Array:8,BigUint64Array:8},E=function(t){if(!u(t))return!1;var e=h(t);return"DataView"===e||f(I,e)||f(O,e)},U=function(t){if(!u(t))return!1;var e=h(t);return f(I,e)||f(O,e)},F=function(t){if(U(t))return t;throw T("Target is not a typed array")},M=function(t){if(c(t)&&(!_||v($,t)))return t;throw T(m(t)+" is not a typed array constructor")},V=function(t,e,r,a){if(s){if(r)for(var i in I){var n=l[i];if(n&&f(n.prototype,t))try{delete n.prototype[t]}catch(o){try{n.prototype[t]=e}catch(c){}}}j[t]&&!r||p(j,t,r?e:P&&A[t]||e,a)}},z=function(t,e,r){var a,i;if(s){if(_){if(r)for(a in I)if(i=l[a],i&&f(i,t))try{delete i[t]}catch(n){}if($[t]&&!r)return;try{return p($,t,r?e:P&&$[t]||e)}catch(n){}}for(a in I)i=l[a],!i||i[t]&&!r||p(i,t,e)}};for(a in I)i=l[a],n=i&&i.prototype,n?d(n,D,i):P=!1;for(a in O)i=l[a],n=i&&i.prototype,n&&d(n,D,i);if((!P||!c($)||$===Function.prototype)&&($=function(){throw T("Incorrect invocation")},P))for(a in I)l[a]&&_(l[a],$);if((!P||!j||j===R)&&(j=$.prototype,P))for(a in I)l[a]&&_(l[a].prototype,j);if(P&&y(C)!==j&&_(C,j),s&&!f(j,L))for(a in N=!0,g(j,L,{get:function(){return u(this)?this[S]:void 0}}),I)l[a]&&d(l[a],S,a);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_CONSTRUCTOR:D,TYPED_ARRAY_TAG:N&&S,aTypedArray:F,aTypedArrayConstructor:M,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:z,isView:E,isTypedArray:U,TypedArray:$,TypedArrayPrototype:j}},8544:function(t,e,r){var a=r(7293);t.exports=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},9518:function(t,e,r){var a=r(7854),i=r(2597),n=r(614),o=r(7908),s=r(6200),l=r(8544),c=s("IE_PROTO"),u=a.Object,f=u.prototype;t.exports=l?u.getPrototypeOf:function(t){var e=o(t);if(i(e,c))return e[c];var r=e.constructor;return n(r)&&e instanceof r?r.prototype:e instanceof u?f:null}},4590:function(t,e,r){var a=r(7854),i=r(3002),n=a.RangeError;t.exports=function(t,e){var r=i(t);if(r%e)throw n("Wrong offset");return r}},3002:function(t,e,r){var a=r(7854),i=r(9303),n=a.RangeError;t.exports=function(t){var e=i(t);if(e<0)throw n("The argument can't be less than 0");return e}},8675:function(t,e,r){"use strict";var a=r(260),i=r(6244),n=r(9303),o=a.aTypedArray,s=a.exportTypedArrayMethod;s("at",(function(t){var e=o(this),r=i(e),a=n(t),s=a>=0?a:r+a;return s<0||s>=r?void 0:e[s]}))},3462:function(t,e,r){"use strict";var a=r(7854),i=r(6916),n=r(260),o=r(6244),s=r(4590),l=r(7908),c=r(7293),u=a.RangeError,f=a.Int8Array,h=f&&f.prototype,m=h&&h.set,d=n.aTypedArray,p=n.exportTypedArrayMethod,g=!c((function(){var t=new Uint8ClampedArray(2);return i(m,t,{length:1,0:3},1),3!==t[1]})),v=g&&n.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new f(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));p("set",(function(t){d(this);var e=s(arguments.length>1?arguments[1]:void 0,1),r=l(t);if(g)return i(m,this,r,e);var a=this.length,n=o(r),c=0;if(n+e>a)throw u("Wrong length");while(c<n)this[e+c]=r[c++]}),!g||v)},2586:function(){Prism.languages.glsl=Prism.languages.extend("clike",{comment:[/\/\*[\s\S]*?\*\//,/\/\/(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/],number:/(?:\b0x[\da-f]+|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?)[ulf]*/i,keyword:/\b(?:attribute|const|uniform|varying|buffer|shared|coherent|volatile|restrict|readonly|writeonly|atomic_uint|layout|centroid|flat|smooth|noperspective|patch|sample|break|continue|do|for|while|switch|case|default|if|else|subroutine|in|out|inout|float|double|int|void|bool|true|false|invariant|precise|discard|return|d?mat[234](?:x[234])?|[ibdu]?vec[234]|uint|lowp|mediump|highp|precision|[iu]?sampler[123]D|[iu]?samplerCube|sampler[12]DShadow|samplerCubeShadow|[iu]?sampler[12]DArray|sampler[12]DArrayShadow|[iu]?sampler2DRect|sampler2DRectShadow|[iu]?samplerBuffer|[iu]?sampler2DMS(?:Array)?|[iu]?samplerCubeArray|samplerCubeArrayShadow|[iu]?image[123]D|[iu]?image2DRect|[iu]?imageCube|[iu]?imageBuffer|[iu]?image[12]DArray|[iu]?imageCubeArray|[iu]?image2DMS(?:Array)?|struct|common|partition|active|asm|class|union|enum|typedef|template|this|resource|goto|inline|noinline|public|static|extern|external|interface|long|short|half|fixed|unsigned|superp|input|output|hvec[234]|fvec[234]|sampler3DRect|filter|sizeof|cast|namespace|using)\b/}),Prism.languages.insertBefore("glsl","comment",{preprocessor:{pattern:/(^[ \t]*)#(?:(?:define|undef|if|ifdef|ifndef|else|elif|endif|error|pragma|extension|version|line)\b)?/m,lookbehind:!0,alias:"builtin"}})},7704:function(){(function(t){function e(t,e){return"___"+t.toUpperCase()+e+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(r,a,i,n){if(r.language===a){var o=r.tokenStack=[];r.code=r.code.replace(i,(function(t){if("function"===typeof n&&!n(t))return t;var i,s=o.length;while(-1!==r.code.indexOf(i=e(a,s)))++s;return o[s]=t,i})),r.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(r,a){if(r.language===a&&r.tokenStack){r.grammar=t.languages[a];var i=0,n=Object.keys(r.tokenStack);o(r.tokens)}function o(s){for(var l=0;l<s.length;l++){if(i>=n.length)break;var c=s[l];if("string"===typeof c||c.content&&"string"===typeof c.content){var u=n[i],f=r.tokenStack[u],h="string"===typeof c?c:c.content,m=e(a,u),d=h.indexOf(m);if(d>-1){++i;var p=h.substring(0,d),g=new t.Token(a,t.tokenize(f,r.grammar),"language-"+a,f),v=h.substring(d+m.length),y=[];p&&y.push.apply(y,o([p])),y.push(g),v&&y.push.apply(y,o([v])),"string"===typeof c?s.splice.apply(s,[l,1].concat(y)):c.content=y}}else c.content&&o(c.content)}return s}}}})})(Prism)}}]);
//# sourceMappingURL=604.f96c90e8.js.map